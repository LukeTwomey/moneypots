<button class="addPot" (click)="addNewPotActive=true">Create Pot</button>

<div class="addPotContainer container" *ngIf=addNewPotActive>
  <form #form="ngForm" (ngSubmit)="createPot(form)" novalidate>
    <input type="text" required placeholder="Pot name" name="name" ngModel #potName>
    <input type="text" required placeholder="Account name" name="accountName" ngModel #accountName>
    <input type="number" placeholder="Target E.G. £1000" min="0" step=".01" name="target" ngModel #target>
    <button (click)="addNewPotActive = false">Cancel</button>
    <button type="submit" [disabled]="!form.valid">Create</button>
  </form>
</div>

<div class="pot container" *ngFor="let pot of pots">
  <div class="summary" *ngIf="pot.summaryActive">
    <div class="iconContainer">
      <img class="potIcon" [src]="pot.icon"/>
    </div>
    <div class="potDetailsContainer">
      <h2 class="potBalance">£{{ pot.getBalance() }}<span class="target"> / £{{ pot.target }}</span></h2>
      <h3 class="potName">{{ pot.name }}</h3>
      <h4 class="accountName">{{ pot.accountName }}</h4>
      <div class="progressAndTarget">
        <div class="progress">
          <div class="progressBar" [style.width.%]="pot.progress"></div>
        </div>
      </div>
    </div>
    <div class="buttonContainer">
      <button (click)="pot.depositFunds()">Deposit</button>
      <button (click)="pot.withdrawFunds()">Withdraw</button>
    </div>
  </div>

  <div class="depositFunds" *ngIf="pot.depositFundsActive">
    <form #form="ngForm" (ngSubmit)="pot.deposit(depositAmount.value)" novalidate>
      <input type="number" required placeholder="0.00" min="0" step=".01" name="depositAmount" ngModel #depositAmount>
      <button (click)="pot.returnToSummary()">Cancel</button>
      <button type="submit" [disabled]="!form.valid">Deposit</button>
    </form>
  </div>

  <div class="withdrawFunds" *ngIf="pot.withdrawFundsActive">
    <form #form="ngForm" (ngSubmit)="pot.withdraw(withdrawalAmount.value)" novalidate>
      <input type="number" required placeholder="0.00" min="0" step=".01" name="withdrawalAmount" ngModel #withdrawalAmount>
      <button (click)="pot.returnToSummary()">Cancel</button>
      <button type="submit" [disabled]="!form.valid">Withdraw</button>
    </form>
  </div>
</div>
